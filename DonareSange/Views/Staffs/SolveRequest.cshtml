@model DonareSange.Models.AdditionalModelViewsA.SolveRequestModel
@{
    ViewBag.Title = "SolveRequest";
}

<h2>SolveRequest</h2>


<div>
    <h4>Cerere</h4>
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.BloodRequest.globule_rosii)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.BloodRequest.globule_rosii)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.BloodRequest.trombocite)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.BloodRequest.trombocite)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.BloodRequest.plasma)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.BloodRequest.plasma)
        </dd>

    </dl>
</div>

<h2>Donatii</h2>
    <table class="table">
        <tr>
            <th>Nume</th>
            <th>Prenume</th>
            <th>Sange</th>
            <th>CNP</th>
            <th>Cantitate</th>
            <th>Trombocite</th>
            <th>Plasma</th>
            <th>Globule Rosii</th>
        </tr>
        @foreach (var item in Model.Donations)
        {   
            <tr>
                <td>@Html.DisplayFor(modelItem => Model.Donors.Where(x => x.DonorId == item.DonorId).SingleOrDefault().firstname)</td>
                <td>@Html.DisplayFor(modelItem => Model.Donors.Where(x => x.DonorId == item.DonorId).SingleOrDefault().lastname)</td>
                <td>@Html.DisplayFor(modelItem => item.blood_type)</td>
                <td>@Html.DisplayFor(modelItem => Model.Donors.Where(x => x.DonorId == item.DonorId).SingleOrDefault().DonorCNP)</td>
                <td>@Html.DisplayFor(modelItem => item.quantity)</td>
                <td>@Html.DisplayFor(modelItem => item.trombocite)</td>
                <td>@Html.DisplayFor(modelItem => item.plasma)</td>
                <td>@Html.DisplayFor(modelItem => item.globule_rosii)</td>
                <td>@Html.ActionLink("Adauga","Adauga",new {idRequest = Model.BloodRequest.BloodRequestId, idDonatie = item.DonationId })</td>
            </tr>
        }
    </table>

@Html.ActionLink("Inapoi", "Index")